"use strict";(self["webpackChunkfeedback_analysis_enterprise"]=self["webpackChunkfeedback_analysis_enterprise"]||[]).push([[759],{5759:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var l=t(6768),s=t(4232);const u={class:"issue-management"};function i(e,a,t,i,o,r){const d=(0,l.g2)("PlusOutlined"),n=(0,l.g2)("a-button"),_=(0,l.g2)("a-page-header"),c=(0,l.g2)("a-statistic"),v=(0,l.g2)("a-card"),k=(0,l.g2)("a-col"),b=(0,l.g2)("a-row"),F=(0,l.g2)("SearchOutlined"),g=(0,l.g2)("a-input"),f=(0,l.g2)("a-select-option"),p=(0,l.g2)("a-select"),h=(0,l.g2)("a-space"),y=(0,l.g2)("a-tag"),m=(0,l.g2)("a-table"),C=(0,l.g2)("a-form-item"),w=(0,l.g2)("a-textarea"),W=(0,l.g2)("a-form"),I=(0,l.g2)("a-modal");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(_,{title:"问题管理","sub-title":"管理和跟踪系统问题"},{extra:(0,l.k6)(()=>[(0,l.bF)(n,{type:"primary",onClick:a[0]||(a[0]=e=>i.showCreateDialog=!0)},{default:(0,l.k6)(()=>[(0,l.bF)(d),a[11]||(a[11]=(0,l.eW)(" 创建问题 "))]),_:1,__:[11]})]),_:1}),(0,l.bF)(b,{gutter:16,class:"stats-row"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{class:"stats-card"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{title:"总问题数",value:i.issueStats.total,"value-style":{color:"#3f8600"}},null,8,["value"])]),_:1})]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{class:"stats-card"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{title:"待解决",value:i.issueStats.open,"value-style":{color:"#cf1322"}},null,8,["value"])]),_:1})]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{class:"stats-card"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{title:"处理中",value:i.issueStats.in_progress,"value-style":{color:"#1890ff"}},null,8,["value"])]),_:1})]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{class:"stats-card"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{title:"已解决",value:i.issueStats.resolved,"value-style":{color:"#52c41a"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),(0,l.bF)(v,{class:"filter-card"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{gutter:16},{default:(0,l.k6)(()=>[(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(g,{value:i.searchQuery,"onUpdate:value":a[1]||(a[1]=e=>i.searchQuery=e),placeholder:"搜索问题...",onInput:i.handleSearch,allowClear:""},{prefix:(0,l.k6)(()=>[(0,l.bF)(F)]),_:1},8,["value","onInput"])]),_:1}),(0,l.bF)(k,{span:4},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:i.statusFilter,"onUpdate:value":a[2]||(a[2]=e=>i.statusFilter=e),placeholder:"选择状态",onChange:i.loadIssues,allowClear:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"open"},{default:(0,l.k6)(()=>a[12]||(a[12]=[(0,l.eW)("待解决")])),_:1,__:[12]}),(0,l.bF)(f,{value:"in_progress"},{default:(0,l.k6)(()=>a[13]||(a[13]=[(0,l.eW)("处理中")])),_:1,__:[13]}),(0,l.bF)(f,{value:"resolved"},{default:(0,l.k6)(()=>a[14]||(a[14]=[(0,l.eW)("已解决")])),_:1,__:[14]}),(0,l.bF)(f,{value:"closed"},{default:(0,l.k6)(()=>a[15]||(a[15]=[(0,l.eW)("已关闭")])),_:1,__:[15]})]),_:1},8,["value","onChange"])]),_:1}),(0,l.bF)(k,{span:4},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:i.severityFilter,"onUpdate:value":a[3]||(a[3]=e=>i.severityFilter=e),placeholder:"选择严重程度",onChange:i.loadIssues,allowClear:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"low"},{default:(0,l.k6)(()=>a[16]||(a[16]=[(0,l.eW)("低")])),_:1,__:[16]}),(0,l.bF)(f,{value:"medium"},{default:(0,l.k6)(()=>a[17]||(a[17]=[(0,l.eW)("中")])),_:1,__:[17]}),(0,l.bF)(f,{value:"high"},{default:(0,l.k6)(()=>a[18]||(a[18]=[(0,l.eW)("高")])),_:1,__:[18]}),(0,l.bF)(f,{value:"critical"},{default:(0,l.k6)(()=>a[19]||(a[19]=[(0,l.eW)("紧急")])),_:1,__:[19]})]),_:1},8,["value","onChange"])]),_:1}),(0,l.bF)(k,{span:4},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:i.categoryFilter,"onUpdate:value":a[4]||(a[4]=e=>i.categoryFilter=e),placeholder:"选择分类",onChange:i.loadIssues,allowClear:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"bug"},{default:(0,l.k6)(()=>a[20]||(a[20]=[(0,l.eW)("功能缺陷")])),_:1,__:[20]}),(0,l.bF)(f,{value:"performance"},{default:(0,l.k6)(()=>a[21]||(a[21]=[(0,l.eW)("性能问题")])),_:1,__:[21]}),(0,l.bF)(f,{value:"ux"},{default:(0,l.k6)(()=>a[22]||(a[22]=[(0,l.eW)("用户体验")])),_:1,__:[22]}),(0,l.bF)(f,{value:"security"},{default:(0,l.k6)(()=>a[23]||(a[23]=[(0,l.eW)("安全问题")])),_:1,__:[23]}),(0,l.bF)(f,{value:"other"},{default:(0,l.k6)(()=>a[24]||(a[24]=[(0,l.eW)("其他")])),_:1,__:[24]})]),_:1},8,["value","onChange"])]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(h,null,{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"primary",onClick:i.loadIssues},{default:(0,l.k6)(()=>a[25]||(a[25]=[(0,l.eW)("搜索")])),_:1,__:[25]},8,["onClick"]),(0,l.bF)(n,{onClick:i.resetFilters},{default:(0,l.k6)(()=>a[26]||(a[26]=[(0,l.eW)("重置")])),_:1,__:[26]},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),(0,l.bF)(v,{class:"table-card"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{columns:i.issueColumns,"data-source":i.issueList,loading:i.loading,pagination:i.pagination,onChange:i.handleTableChange},{bodyCell:(0,l.k6)(({column:e,record:t})=>["severity"===e.key?((0,l.uX)(),(0,l.Wv)(y,{key:0,color:i.getSeverityColor(t.severity)},{default:(0,l.k6)(()=>[(0,l.eW)((0,s.v_)(i.getSeverityText(t.severity)),1)]),_:2},1032,["color"])):(0,l.Q3)("",!0),"status"===e.key?((0,l.uX)(),(0,l.Wv)(y,{key:1,color:i.getStatusColor(t.status)},{default:(0,l.k6)(()=>[(0,l.eW)((0,s.v_)(i.getStatusText(t.status)),1)]),_:2},1032,["color"])):(0,l.Q3)("",!0),"action"===e.key?((0,l.uX)(),(0,l.Wv)(h,{key:2},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"link",size:"small",onClick:e=>i.viewIssue(t)},{default:(0,l.k6)(()=>a[27]||(a[27]=[(0,l.eW)(" 详情 ")])),_:2,__:[27]},1032,["onClick"]),(0,l.bF)(n,{type:"link",size:"small",onClick:e=>i.editIssue(t)},{default:(0,l.k6)(()=>a[28]||(a[28]=[(0,l.eW)(" 编辑 ")])),_:2,__:[28]},1032,["onClick"])]),_:2},1024)):(0,l.Q3)("",!0)]),_:1},8,["columns","data-source","loading","pagination","onChange"])]),_:1}),(0,l.bF)(I,{visible:i.showCreateDialog,"onUpdate:visible":a[9]||(a[9]=e=>i.showCreateDialog=e),title:"创建问题",onOk:i.createIssue,onCancel:a[10]||(a[10]=e=>i.showCreateDialog=!1)},{default:(0,l.k6)(()=>[(0,l.bF)(W,{model:i.issueForm,"label-col":{span:6},"wrapper-col":{span:18}},{default:(0,l.k6)(()=>[(0,l.bF)(C,{label:"问题标题"},{default:(0,l.k6)(()=>[(0,l.bF)(g,{value:i.issueForm.title,"onUpdate:value":a[5]||(a[5]=e=>i.issueForm.title=e),placeholder:"请输入问题标题"},null,8,["value"])]),_:1}),(0,l.bF)(C,{label:"问题描述"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{value:i.issueForm.description,"onUpdate:value":a[6]||(a[6]=e=>i.issueForm.description=e),rows:4,placeholder:"请详细描述问题..."},null,8,["value"])]),_:1}),(0,l.bF)(C,{label:"分类"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:i.issueForm.category,"onUpdate:value":a[7]||(a[7]=e=>i.issueForm.category=e),placeholder:"选择分类"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"bug"},{default:(0,l.k6)(()=>a[29]||(a[29]=[(0,l.eW)("功能缺陷")])),_:1,__:[29]}),(0,l.bF)(f,{value:"performance"},{default:(0,l.k6)(()=>a[30]||(a[30]=[(0,l.eW)("性能问题")])),_:1,__:[30]}),(0,l.bF)(f,{value:"ux"},{default:(0,l.k6)(()=>a[31]||(a[31]=[(0,l.eW)("用户体验")])),_:1,__:[31]}),(0,l.bF)(f,{value:"security"},{default:(0,l.k6)(()=>a[32]||(a[32]=[(0,l.eW)("安全问题")])),_:1,__:[32]}),(0,l.bF)(f,{value:"other"},{default:(0,l.k6)(()=>a[33]||(a[33]=[(0,l.eW)("其他")])),_:1,__:[33]})]),_:1},8,["value"])]),_:1}),(0,l.bF)(C,{label:"严重程度"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:i.issueForm.severity,"onUpdate:value":a[8]||(a[8]=e=>i.issueForm.severity=e),placeholder:"选择严重程度"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"low"},{default:(0,l.k6)(()=>a[34]||(a[34]=[(0,l.eW)("低")])),_:1,__:[34]}),(0,l.bF)(f,{value:"medium"},{default:(0,l.k6)(()=>a[35]||(a[35]=[(0,l.eW)("中")])),_:1,__:[35]}),(0,l.bF)(f,{value:"high"},{default:(0,l.k6)(()=>a[36]||(a[36]=[(0,l.eW)("高")])),_:1,__:[36]}),(0,l.bF)(f,{value:"critical"},{default:(0,l.k6)(()=>a[37]||(a[37]=[(0,l.eW)("紧急")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","onOk"])])}var o=t(144),r=t(7694),d=t(3536),n=t(7520),_={name:"IssueManagement",components:{PlusOutlined:d.A,SearchOutlined:n.A},setup(){const e=(0,o.KR)(!1),a=(0,o.KR)(!1),t=(0,o.KR)([]),s=(0,o.KR)(""),u=(0,o.KR)(void 0),i=(0,o.KR)(void 0),d=(0,o.KR)(void 0),n=(0,o.KR)({total:25,open:8,in_progress:5,resolved:12}),_=(0,o.KR)({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),c=(0,o.Kh)({title:"",description:"",category:void 0,severity:void 0}),v=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"标题",dataIndex:"title",key:"title",ellipsis:!0},{title:"分类",dataIndex:"category",key:"category",width:120},{title:"严重程度",dataIndex:"severity",key:"severity",width:120},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"创建时间",dataIndex:"created_at",key:"created_at",width:150},{title:"操作",key:"action",width:150,fixed:"right"}],k=e=>{const a={low:"green",medium:"blue",high:"orange",critical:"red"};return a[e]||"default"},b=e=>{const a={low:"低",medium:"中",high:"高",critical:"紧急"};return a[e]||e},F=e=>{const a={open:"red",in_progress:"blue",resolved:"green",closed:"default"};return a[e]||"default"},g=e=>{const a={open:"待解决",in_progress:"处理中",resolved:"已解决",closed:"已关闭"};return a[e]||e},f=()=>{e.value=!0,setTimeout(()=>{t.value=[{id:1,title:"登录页面加载缓慢",category:"performance",severity:"high",status:"open",created_at:"2024-01-01 10:30:00"},{id:2,title:"用户头像上传失败",category:"bug",severity:"medium",status:"in_progress",created_at:"2024-01-02 14:20:00"}],_.value.total=t.value.length,e.value=!1},1e3)},p=()=>{f()},h=()=>{s.value="",u.value=void 0,i.value=void 0,d.value=void 0,f()},y=e=>{_.value=e,f()},m=e=>{r.Ay.info(`查看问题: ${e.title}`)},C=e=>{r.Ay.info(`编辑问题: ${e.title}`)},w=()=>{r.Ay.success("问题创建成功"),a.value=!1,f()};return(0,l.sV)(()=>{f()}),{loading:e,showCreateDialog:a,issueList:t,issueStats:n,searchQuery:s,statusFilter:u,severityFilter:i,categoryFilter:d,pagination:_,issueForm:c,issueColumns:v,getSeverityColor:k,getSeverityText:b,getStatusColor:F,getStatusText:g,loadIssues:f,handleSearch:p,resetFilters:h,handleTableChange:y,viewIssue:m,editIssue:C,createIssue:w}}},c=t(1241);const v=(0,c.A)(_,[["render",i],["__scopeId","data-v-1cf8cc53"]]);var k=v}}]);
//# sourceMappingURL=759.892a4ef5.js.map
"use strict";(self["webpackChunkfeedback_analysis_enterprise"]=self["webpackChunkfeedback_analysis_enterprise"]||[]).push([[492],{492:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(6768),n=a(4232);const o={class:"analysis-reports"},r={key:0},d={class:"report-content"},s=["innerHTML"];function i(e,t,a,i,u,p){const c=(0,l.g2)("a-page-header"),g=(0,l.g2)("a-select-option"),_=(0,l.g2)("a-select"),k=(0,l.g2)("a-col"),y=(0,l.g2)("a-range-picker"),b=(0,l.g2)("FileTextOutlined"),v=(0,l.g2)("a-button"),f=(0,l.g2)("DownloadOutlined"),m=(0,l.g2)("a-row"),R=(0,l.g2)("a-tag"),h=(0,l.g2)("a-space"),C=(0,l.g2)("a-table"),F=(0,l.g2)("a-card"),T=(0,l.g2)("a-descriptions-item"),w=(0,l.g2)("a-descriptions"),W=(0,l.g2)("a-divider"),x=(0,l.g2)("a-drawer");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(c,{title:"分析报告","sub-title":"查看和导出智能分析报告"}),(0,l.bF)(m,{gutter:16,class:"filter-row"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(_,{value:i.reportType,"onUpdate:value":t[0]||(t[0]=e=>i.reportType=e),placeholder:"选择报告类型",style:{width:"100%"},onChange:i.loadReports},{default:(0,l.k6)(()=>[(0,l.bF)(g,{value:"summary"},{default:(0,l.k6)(()=>t[3]||(t[3]=[(0,l.eW)("汇总报告")])),_:1,__:[3]}),(0,l.bF)(g,{value:"sentiment"},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.eW)("情感分析报告")])),_:1,__:[4]}),(0,l.bF)(g,{value:"priority"},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("优先级分析报告")])),_:1,__:[5]}),(0,l.bF)(g,{value:"trend"},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)("趋势分析报告")])),_:1,__:[6]})]),_:1},8,["value","onChange"])]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(y,{value:i.dateRange,"onUpdate:value":t[1]||(t[1]=e=>i.dateRange=e),style:{width:"100%"},onChange:i.loadReports},null,8,["value","onChange"])]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{type:"primary",onClick:i.generateReport,loading:i.generating},{default:(0,l.k6)(()=>[(0,l.bF)(b),t[7]||(t[7]=(0,l.eW)(" 生成新报告 "))]),_:1,__:[7]},8,["onClick","loading"])]),_:1}),(0,l.bF)(k,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(v,{onClick:i.exportReport},{default:(0,l.k6)(()=>[(0,l.bF)(f),t[8]||(t[8]=(0,l.eW)(" 导出报告 "))]),_:1,__:[8]},8,["onClick"])]),_:1})]),_:1}),(0,l.bF)(F,{title:"报告列表",class:"reports-card"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{columns:i.reportColumns,"data-source":i.reports,loading:i.loading,pagination:i.pagination,onChange:i.handleTableChange},{bodyCell:(0,l.k6)(({column:e,record:a})=>["type"===e.key?((0,l.uX)(),(0,l.Wv)(R,{key:0,color:i.getTypeColor(a.type)},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.getTypeText(a.type)),1)]),_:2},1032,["color"])):(0,l.Q3)("",!0),"status"===e.key?((0,l.uX)(),(0,l.Wv)(R,{key:1,color:i.getStatusColor(a.status)},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.getStatusText(a.status)),1)]),_:2},1032,["color"])):(0,l.Q3)("",!0),"action"===e.key?((0,l.uX)(),(0,l.Wv)(h,{key:2},{default:(0,l.k6)(()=>[(0,l.bF)(v,{type:"link",size:"small",onClick:e=>i.viewReport(a)},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)(" 查看 ")])),_:2,__:[9]},1032,["onClick"]),(0,l.bF)(v,{type:"link",size:"small",onClick:e=>i.downloadReport(a)},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)(" 下载 ")])),_:2,__:[10]},1032,["onClick"]),(0,l.bF)(v,{type:"link",size:"small",danger:"",onClick:e=>i.deleteReport(a)},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)(" 删除 ")])),_:2,__:[11]},1032,["onClick"])]),_:2},1024)):(0,l.Q3)("",!0)]),_:1},8,["columns","data-source","loading","pagination","onChange"])]),_:1}),(0,l.bF)(x,{visible:i.showReportDetail,"onUpdate:visible":t[2]||(t[2]=e=>i.showReportDetail=e),title:"报告详情",placement:"right",width:"800"},{default:(0,l.k6)(()=>[i.selectedReport?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(w,{column:2,bordered:""},{default:(0,l.k6)(()=>[(0,l.bF)(T,{label:"报告名称",span:2},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.selectedReport.name),1)]),_:1}),(0,l.bF)(T,{label:"报告类型"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{color:i.getTypeColor(i.selectedReport.type)},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.getTypeText(i.selectedReport.type)),1)]),_:1},8,["color"])]),_:1}),(0,l.bF)(T,{label:"生成时间"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.selectedReport.created_at),1)]),_:1}),(0,l.bF)(T,{label:"数据范围",span:2},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(i.selectedReport.date_range),1)]),_:1})]),_:1}),(0,l.bF)(W),(0,l.Lk)("div",d,[t[12]||(t[12]=(0,l.Lk)("h3",null,"报告内容",-1)),(0,l.Lk)("div",{innerHTML:i.selectedReport.content},null,8,s)])])):(0,l.Q3)("",!0)]),_:1},8,["visible"])])}var u=a(144),p=a(7694),c=a(9804),g=a(8709),_=a(4079),k={name:"AnalysisReports",components:{FileTextOutlined:g.A,DownloadOutlined:_.A},setup(){const e=(0,u.KR)(!1),t=(0,u.KR)(!1),a=(0,u.KR)([]),n=(0,u.KR)(void 0),o=(0,u.KR)([]),r=(0,u.KR)(!1),d=(0,u.KR)(null),s=(0,u.KR)({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),i=[{title:"报告名称",dataIndex:"name",key:"name"},{title:"类型",dataIndex:"type",key:"type"},{title:"状态",dataIndex:"status",key:"status"},{title:"生成时间",dataIndex:"created_at",key:"created_at"},{title:"数据范围",dataIndex:"date_range",key:"date_range"},{title:"操作",key:"action",width:200}],g=e=>{const t={summary:"blue",sentiment:"green",priority:"orange",trend:"purple"};return t[e]||"default"},_=e=>{const t={summary:"汇总报告",sentiment:"情感分析",priority:"优先级分析",trend:"趋势分析"};return t[e]||e},k=e=>{const t={completed:"green",generating:"blue",failed:"red"};return t[e]||"default"},y=e=>{const t={completed:"已完成",generating:"生成中",failed:"失败"};return t[e]||e},b=()=>{e.value=!0,setTimeout(()=>{a.value=[{id:1,name:"用户反馈汇总报告 - 2024年1月",type:"summary",status:"completed",created_at:"2024-01-01 10:30:00",date_range:"2024-01-01 至 2024-01-31",content:"<h4>反馈汇总</h4><p>本月共收到用户反馈156条...</p>"},{id:2,name:"情感分析报告 - 2024年1月",type:"sentiment",status:"completed",created_at:"2024-01-02 14:20:00",date_range:"2024-01-01 至 2024-01-31",content:"<h4>情感分析结果</h4><p>正面情感占比65%...</p>"}],s.value.total=a.value.length,e.value=!1},1e3)},v=()=>{t.value=!0,setTimeout(()=>{p.Ay.success("报告生成请求已提交，请稍后查看"),t.value=!1,b()},2e3)},f=()=>{p.Ay.info("报告导出功能开发中...")},m=e=>{d.value=e,r.value=!0},R=e=>{p.Ay.info(`下载报告: ${e.name}`)},h=e=>{c.A.confirm({title:"确认删除",content:`确定要删除报告"${e.name}"吗？`,onOk(){p.Ay.success("报告已删除"),b()}})},C=e=>{s.value=e,b()};return(0,l.sV)(()=>{b()}),{loading:e,generating:t,reports:a,reportType:n,dateRange:o,showReportDetail:r,selectedReport:d,pagination:s,reportColumns:i,getTypeColor:g,getTypeText:_,getStatusColor:k,getStatusText:y,loadReports:b,generateReport:v,exportReport:f,viewReport:m,downloadReport:R,deleteReport:h,handleTableChange:C}}},y=a(1241);const b=(0,y.A)(k,[["render",i],["__scopeId","data-v-8e9aa9dc"]]);var v=b}}]);
//# sourceMappingURL=492.977f0b7a.js.map
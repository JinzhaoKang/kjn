{"version":3,"file":"static/js/402.af21b7bf.js","mappings":"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","sources":["webpack://feedback-analysis-enterprise/./src/views/FeedbackImport.vue","webpack://feedback-analysis-enterprise/./src/views/FeedbackImport.vue?ac5d"],"sourcesContent":["<template>\n  <div class=\"feedback-import\">\n    <a-page-header title=\"反馈导入\" sub-title=\"批量导入用户反馈数据\" />\n    \n    <a-card title=\"导入反馈数据\" class=\"import-card\">\n      <a-upload-dragger\n        v-model:fileList=\"fileList\"\n        name=\"file\"\n        :multiple=\"false\"\n        :action=\"uploadUrl\"\n        @change=\"handleChange\"\n        :before-upload=\"beforeUpload\"\n        accept=\".csv,.xlsx,.json\"\n      >\n        <p class=\"ant-upload-drag-icon\">\n          <InboxOutlined />\n        </p>\n        <p class=\"ant-upload-text\">点击或拖拽文件到此区域上传</p>\n        <p class=\"ant-upload-hint\">\n          支持CSV、Excel、JSON格式文件，单次上传仅支持单个文件\n        </p>\n      </a-upload-dragger>\n      \n      <a-divider />\n      \n      <a-row :gutter=\"16\">\n        <a-col :span=\"8\">\n          <a-card size=\"small\" title=\"文件格式要求\">\n            <p>CSV格式：包含title, content, category, email等字段</p>\n            <p>Excel格式：第一行为标题行</p>\n            <p>JSON格式：对象数组格式</p>\n          </a-card>\n        </a-col>\n        <a-col :span=\"8\">\n          <a-card size=\"small\" title=\"字段映射\">\n            <p>title: 反馈标题（必填）</p>\n            <p>content: 反馈内容（必填）</p>\n            <p>category: 分类（可选）</p>\n            <p>email: 联系邮箱（可选）</p>\n          </a-card>\n        </a-col>\n        <a-col :span=\"8\">\n          <a-card size=\"small\" title=\"注意事项\">\n            <p>文件大小不超过10MB</p>\n            <p>单次最多导入1000条记录</p>\n            <p>重复数据将自动去重</p>\n          </a-card>\n        </a-col>\n      </a-row>\n    </a-card>\n    \n    <a-card title=\"导入历史\" class=\"history-card\" v-if=\"importHistory.length > 0\">\n      <a-table \n        :columns=\"historyColumns\" \n        :data-source=\"importHistory\"\n        :pagination=\"false\"\n        size=\"small\"\n      >\n        <template #bodyCell=\"{ column, record }\">\n          <template v-if=\"column.key === 'status'\">\n            <a-tag :color=\"getStatusColor(record.status)\">\n              {{ getStatusText(record.status) }}\n            </a-tag>\n          </template>\n          <template v-if=\"column.key === 'action'\">\n            <a-button type=\"link\" size=\"small\" @click=\"downloadReport(record)\">\n              下载报告\n            </a-button>\n          </template>\n        </template>\n      </a-table>\n    </a-card>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { message } from 'ant-design-vue'\nimport { InboxOutlined } from '@ant-design/icons-vue'\n\nexport default {\n  name: 'FeedbackImport',\n  components: {\n    InboxOutlined,\n  },\n  setup() {\n    const fileList = ref([])\n    const importHistory = ref([])\n    const uploadUrl = '/api/feedback/import'\n    \n    const historyColumns = [\n      { title: '文件名', dataIndex: 'filename', key: 'filename' },\n      { title: '导入数量', dataIndex: 'count', key: 'count' },\n      { title: '状态', dataIndex: 'status', key: 'status' },\n      { title: '导入时间', dataIndex: 'created_at', key: 'created_at' },\n      { title: '操作', key: 'action' },\n    ]\n    \n    const beforeUpload = (file) => {\n      const isValidType = file.type === 'text/csv' || \n                         file.type === 'application/vnd.ms-excel' ||\n                         file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\n                         file.type === 'application/json'\n      if (!isValidType) {\n        message.error('只支持CSV、Excel、JSON格式文件！')\n        return false\n      }\n      const isLt10M = file.size / 1024 / 1024 < 10\n      if (!isLt10M) {\n        message.error('文件大小不能超过10MB！')\n        return false\n      }\n      return true\n    }\n    \n    const handleChange = (info) => {\n      const { status } = info.file\n      if (status === 'done') {\n        message.success(`${info.file.name} 文件上传成功`)\n        loadImportHistory()\n      } else if (status === 'error') {\n        message.error(`${info.file.name} 文件上传失败`)\n      }\n    }\n    \n    const getStatusColor = (status) => {\n      const colors = {\n        'success': 'green',\n        'error': 'red',\n        'processing': 'blue'\n      }\n      return colors[status] || 'default'\n    }\n    \n    const getStatusText = (status) => {\n      const texts = {\n        'success': '成功',\n        'error': '失败', \n        'processing': '处理中'\n      }\n      return texts[status] || '未知'\n    }\n    \n    const downloadReport = (record) => {\n      // 下载导入报告逻辑\n      message.info('报告下载功能开发中...')\n    }\n    \n    const loadImportHistory = () => {\n      // 加载导入历史记录\n      importHistory.value = [\n        {\n          id: 1,\n          filename: 'feedback_data.csv',\n          count: 156,\n          status: 'success',\n          created_at: '2024-01-01 10:30:00'\n        }\n      ]\n    }\n    \n    onMounted(() => {\n      loadImportHistory()\n    })\n    \n    return {\n      fileList,\n      importHistory,\n      uploadUrl,\n      historyColumns,\n      beforeUpload,\n      handleChange,\n      getStatusColor,\n      getStatusText,\n      downloadReport,\n    }\n  },\n}\n</script>\n\n<style scoped>\n.feedback-import {\n  padding: 24px;\n}\n\n.import-card {\n  margin-bottom: 24px;\n}\n\n.history-card {\n  margin-top: 24px;\n}\n</style> ","import { render } from \"./FeedbackImport.vue?vue&type=template&id=50ef4594&scoped=true\"\nimport script from \"./FeedbackImport.vue?vue&type=script&lang=js\"\nexport * from \"./FeedbackImport.vue?vue&type=script&lang=js\"\n\nimport \"./FeedbackImport.vue?vue&type=style&index=0&id=50ef4594&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-50ef4594\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_a_page_header","title","_component_a_card","_component_a_upload_dragger","fileList","$setup","$event","name","multiple","action","uploadUrl","onChange","handleChange","beforeUpload","accept","_createElementVNode","_hoisted_2","_component_InboxOutlined","_component_a_divider","_component_a_row","gutter","_component_a_col","span","size","_cache","importHistory","length","_createBlock","_component_a_table","columns","historyColumns","pagination","bodyCell","_withCtx","column","record","key","_component_a_tag","color","getStatusColor","status","getStatusText","_component_a_button","type","onClick","downloadReport","components","InboxOutlined","setup","ref","dataIndex","file","isValidType","message","error","isLt10M","info","success","loadImportHistory","colors","texts","value","id","filename","count","created_at","onMounted","__exports__","render"],"sourceRoot":""}